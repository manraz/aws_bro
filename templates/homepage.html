{% extends "layout.html" %}
{% block content %}
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mystyle.css') }}">
</head>
  <!-- table creation -->
 <h2>Log entries from http.log</h2>
 <div style="height:300px;overflow:auto;">
     <table id="customers">
        <!-- Setup fields -->
        <thead>
            <tr>
                {% for value in fieldsLst[:20] %}
                <th>{{ value }}</th>
                {% endfor %}
            </tr>
        </thead>
        <!--print entries up to protocol field-->
        <tbody>
            <tr>
            {% for line  in nestLst %}
            <tr>
                {% for entry in line[:20] %}
                <td>{{entry}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
            </tr>
        </tbody>
     </table>
 </div>
    <h2>{{name}}</h2>
    <img src="{{graph}}" alt="Chart">
   <h2>Most active IP's geolocation</h2>
 <div style="height:200px;overflow:auto;">
     <table id="customers">
         <thead>
             <tr>
                 {% for key, value in record.items() %}
                 <th>{{ key }}</th>
                 {% endfor %}
             </tr>
         </thead>
         <tbody>
             {% for key, value  in recordDict.items() %}
             <tr>
                 {% for k, v in value.items() %}
                     <td>{{ v }}</td>
             {% endfor %}
             </tr>
             {% endfor %}
         </tbody>
      </table>
 </div>
 <div class="row">
      <div class="column">
          <h2>Most common/least domain</h2>
          <div style="height:200px;overflow:auto;">
             <table id="customers">
                 <thead>
                     <tr>
                        <th>Domain</th>
                        <th>Count</th>
                     </tr>
                 </thead>
                 <tbody>
                     {% for key, value  in domainDict.items() %}
                     <tr>
                         <td>{{  key }}</td>
                         <td>{{  value }}</td>
                     </tr>
                     {% endfor %}
                 </tbody>
              </table>
          </div>
      </div>
      <div class="column">
          <h2>Operating System and Browser version</h2>
          <div style="height:200px;overflow:auto;">
             <table id="customers">
                 <thead>
                     <tr>
                        <th>User Agent & OS</th>
                        <th>Count</th>
                     </tr>
                 </thead>
                 <tbody>
                     {% for key, value  in agentDict.items() %}
                     <tr>
                         <td>{{  key }}</td>
                         <td>{{  value }}</td>
                     </tr>
                     {% endfor %}
                 </tbody>
              </table>
          </div>
      </div>
 </div>
{% endblock %}
